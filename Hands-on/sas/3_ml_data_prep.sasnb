[{"kind":1,"language":"markdown","value":"### Machine Learning Data Preparation\nThis notebook splits the data into training-validation-test.","outputs":[]},{"kind":1,"language":"markdown","value":"### PARTITION THE INPUT DATA","outputs":[]},{"kind":1,"language":"markdown","value":"* Stratified Partitioning using a target variable\n* Partition into training(70), validation(20), and test(10)","outputs":[]},{"kind":2,"language":"sas","value":"proc partition data=wbdata.&explorationData. partind samppct=70 samppct2=20 seed=1337;\n\tby &target.; *DEFINE partition variable;\n\toutput out=wbdata.&partData.;\n\tods exclude OutputCasTables;\nrun;\n\n* The _PARTIND_ ='3' is the non-sampled observations corresponding to 10% of the dataset. \n  this will be treated as the 'test' dataset, and is something not used in the model training process.;\ndata wbdata.&partData.;\n\tset wbdata.&partData.;\n\tif _PartInd_=0 then _PartInd_=3;\nrun;\n\nproc freq data=wbdata.&partData.;\ntable _PartIND_;\nrun;","outputs":[]},{"kind":1,"language":"markdown","value":"### Create separate train/validation and test (out-of-sample) datasets","outputs":[]},{"kind":2,"language":"sas","value":"* Creating Test Dataset;\ndata wbdata.&HoldOut.;\n  set wbdata.&partdata.;\n  if _PARTIND_ ='3';\nrun;\n\n* Creating Train + Val Dataset;\ndata wbdata.&trainValidate.;\n  set wbdata.&partdata.;\n  if _PARTIND_ ne '3';\nrun;\n\n* Let's compare distributions of Default between the two datasets;\ntitle 'Training/Validaiton dataset';\nproc freq data=wbdata.&trainValidate.;\ntable default;\nrun;\n\ntitle 'Hold Out Sample';\nproc freq data=wbdata.&HoldOut.;\ntable default;\nrun;\n\ntitle;","outputs":[]}]